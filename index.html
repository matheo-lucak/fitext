<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fitext Module Example</title>
    <link rel="shortcut icon" href="./favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="./style.css">
</head>

<body>
    <section id="manipulation">
        <fieldset>
            <legend>Container (in %)</legend>
            <div>
                <label for="width">Width :</label>
                <input type="range" name="width" id="width" min="10" max="100" value="60">
                <output id="widthVal" name="widthVal" for="width">60%</output>
            </div>
            <div>
                <label for="height">Height :</label>
                <input type="range" name="height" id="height" min="10" max="85" value="80">
                <output id="heightVal" name="heightVal" for="height">80%</output>
            </div>
            <button id="reset">Reset</button>
        </fieldset>
        <fieldset>
            <label for="wideable">Make font-size enlargeable</label>
            <input type="checkbox" name="wideable" id="wideable" checked>
            <label for="wideable"></label>
        </fieldset>
    </section>
    <main>
        <div class="fit-this-text">
            <h1>Resize your window</h1>
            <h2>Play with responsive ðŸ’¡</h2>
            <p>
                Duis dolor dolor non culpa irure id amet eu. Tempor laboris aliquip magna pariatur sunt ipsum. Commodo
                voluptate est qui deserunt esse Lorem cillum do exercitation dolor consequat.

                Quis ea quis id occaecat id sint. Minim dolor aliqua nostrud cupidatat minim ea. Incididunt nulla dolore
                proident tempor exercitation. Tempor ex eiusmod anim pariatur qui elit in labore deserunt qui enim quis
                anim
                fugiat.

                Aute amet dolor ullamco id. Dolor commodo in consectetur minim consectetur ipsum pariatur dolore veniam
                ex.
                Commodo aute Lorem est velit. Nostrud veniam sit duis do quis consequat aliqua consequat ullamco id. Ex
                cillum et non aliqua velit esse ut ad reprehenderit esse. Nostrud esse tempor excepteur esse. Laborum
                pariatur veniam deserunt occaecat elit eu non exercitation minim sit ex.
            </p>
            <div>
                <p>Anim voluptate aliqua culpa cillum officia. Irure irure duis elit aute quis cillum ut elit magna
                    cillum excepteur irure et. Tempor nisi nulla incididunt amet adipisicing laborum.</p>
            </div>
            <div>
                <p>Anim voluptate aliqua culpa cillum officia. Irure irure duis elit aute quis cillum ut elit magna
                    cillum excepteur irure et. Tempor nisi nulla incididunt amet adipisicing laborum.</p>
            </div>
        </div>
    </main>

    <div class="github-ribbon">
        <a target="_blank" href="https://github.com/pierredarrieutort/fitext.git">
            Fork me on GitHub !
        </a>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/fitext@latest/dist/fitext.umd.js"></script>
    <script>

        ['DOMContentLoaded', 'resize'].forEach(e => window.addEventListener(e, () => fitext(true)))


        //** FOLLOWING CODE IS DEDICATED TO THE DEMO **//

        window.addEventListener('DOMContentLoaded', demo)

        function demo() {

            const
                WIDTH = document.getElementById('width'),
                HEIGHT = document.getElementById('height'),
                HANDLEABLE = document.querySelector('.fit-this-text'),
                RESET = document.getElementById('reset'),
                INITIAL_VALUES = [WIDTH.value, HEIGHT.value],
                WIDEABLE = document.getElementById('wideable'),
                WIDTH_OUTPUT = document.getElementById('widthVal'),
                HEIGHT_OUTPUT = document.getElementById('heightVal')

            WIDTH.oninput = handleWidth
            HEIGHT.oninput = handleHeight
            RESET.onclick = reset
            WIDEABLE.onchange = handleWideable


            function handleWidth() {
                WIDTH_OUTPUT.value = HANDLEABLE.style.width = `${this.value}%`
                fitext(WIDEABLE.checked)
            }

            function handleHeight() {
                HEIGHT_OUTPUT.value = HANDLEABLE.style.height = `${this.value}%`
                fitext(WIDEABLE.checked)
            }

            function reset() {
                WIDTH_OUTPUT.value = HANDLEABLE.style.width = `${INITIAL_VALUES[0]}%`
                HEIGHT_OUTPUT.value = HANDLEABLE.style.height = `${INITIAL_VALUES[1]}%`
                WIDTH.value = INITIAL_VALUES[0]
                HEIGHT.value = INITIAL_VALUES[1]
                fitext(WIDEABLE.checked)
            }

            function handleWideable() {
                fitext(WIDEABLE.checked)
            }
        }

    </script>
</body>

</html>
